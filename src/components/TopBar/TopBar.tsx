"use client";
import React, { useState } from "react";
import { ASSETS } from "../../constants/assets";
import { MenuButton } from "../UI/MenuButton/MenuButton";
import { MoreButton } from "../UI/MoreButton/MoreButton";
import { Status, StatusIcon } from "../Status/Status";
import "./TopBar.css";

function SaveIcon() {
  return (
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M17.9892 5.10011L14.8996 2.01048C14.638 1.74674 14.2815 1.59892 13.91 1.6001H2.99961C2.22641 1.6001 1.59961 2.2269 1.59961 3.00011V17.0001C1.59961 17.7733 2.22639 18.4001 2.99961 18.4001H16.9996C17.7728 18.4001 18.3996 17.7733 18.3996 17.0001V6.08973C18.4008 5.71822 18.253 5.36175 17.9892 5.10011ZM13.4996 17.0001H6.49961V12.1001H13.4996V17.0001ZM16.9996 17.0001H14.8996V12.1001C14.8996 11.3269 14.2728 10.7001 13.4996 10.7001H6.49961C5.72638 10.7001 5.0996 11.3269 5.0996 12.1001V17.0001H2.99961V3.00011H13.91L16.9996 6.08973V17.0001ZM12.7996 5.10011C12.7996 5.48669 12.4862 5.80008 12.0996 5.8001H7.1996C6.66075 5.80008 6.32395 5.21673 6.5934 4.75008C6.71845 4.53351 6.94953 4.4001 7.1996 4.4001H12.0996C12.4862 4.40012 12.7996 4.71352 12.7996 5.10011Z" fill="white"/>
    </svg>
  );
}

function ShieldIcon() {
  return (
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M9.41666 10.4583V5.87645C9.41666 5.40617 9.90278 5.11225 10.2917 5.34739C10.4722 5.45652 10.5833 5.65819 10.5833 5.87645V10.4583C10.5833 10.9285 10.0972 11.2225 9.70833 10.9873C9.52785 10.8782 9.41666 10.6765 9.41666 10.4583ZM10 14.1237C10.6736 14.1237 11.0946 13.36 10.7578 12.7491C10.4209 12.1382 9.57897 12.1383 9.24221 12.7492C9.16542 12.8885 9.125 13.0465 9.125 13.2073C9.125 13.7134 9.51673 14.1237 10 14.1237ZM17 4.34919V8.62554C17 12.6514 15.1392 15.0912 13.578 16.4291C11.8966 17.8693 10.2239 18.3588 10.1509 18.3787C10.0507 18.4072 9.94495 18.4072 9.84468 18.3787C9.77177 18.3588 8.10125 17.8693 6.4176 16.4291C4.86083 15.0912 3 12.6514 3 8.62554V4.34918C3 3.6744 3.52233 3.12737 4.16667 3.12737L9.64541 1.69294C9.87788 1.63207 10.1221 1.63207 10.3546 1.69294L15.8333 3.12737C16.4777 3.12737 17 3.6744 17 4.34919ZM15.8333 4.34919L10.3546 2.91475C10.1221 2.85389 9.87788 2.85388 9.64541 2.91475L4.16667 4.34918V8.62554C4.16667 11.4739 5.17437 13.7808 7.16135 15.4837C8.00737 16.2084 8.96813 16.772 10 17.1492C11.0456 16.7654 12.0183 16.1915 12.8736 15.454C14.8373 13.7541 15.8333 11.4563 15.8333 8.62554V4.34919Z" fill="white"/>
    </svg>
  );
}

function HelpIcon() {
  return (
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g clipPath="url(#clip0_532_4566)">
        <path d="M11.6972 3.96589C11.6972 3.64857 11.9544 3.39132 12.2718 3.39132H13.421V2.24218C13.421 1.79987 13.8998 1.52343 14.2829 1.74458C14.4607 1.84722 14.5702 2.0369 14.5702 2.24218V3.39132H15.7194C16.1617 3.39132 16.4382 3.87013 16.217 4.25317C16.1144 4.43094 15.9247 4.54046 15.7194 4.54046H14.5702V5.6896C14.5702 6.13191 14.0914 6.40835 13.7083 6.18719C13.5305 6.08456 13.421 5.89488 13.421 5.6896V4.54046H12.2718C11.9544 4.54048 11.6972 4.28323 11.6972 3.96589ZM18.3337 8.24665C18.3337 8.56396 18.0764 8.82121 17.7591 8.82122H17.1845V9.39579C17.1845 9.8381 16.7056 10.1145 16.3226 9.89338C16.1448 9.79075 16.0353 9.60107 16.0353 9.39579V8.82122H15.4607C15.0183 8.82124 14.7419 8.34245 14.963 7.95939C15.0657 7.7816 15.2554 7.67208 15.4607 7.67208H16.0353V7.09751C16.0353 6.6552 16.5141 6.37876 16.8972 6.59991C17.0749 6.70255 17.1845 6.89224 17.1845 7.09751V7.67208H17.7591C18.0764 7.67208 18.3337 7.92932 18.3337 8.24665Z" fill="white"/>
        <path d="M11.667 8.47834C11.667 10.6734 9.75527 12.4904 7.29199 12.7561V13.4059C7.29153 13.88 6.77041 14.1759 6.35398 13.9384C6.16108 13.8284 6.0422 13.6255 6.04199 13.4059V12.174C6.04199 11.8338 6.3218 11.558 6.66699 11.5581C8.73496 11.5581 10.417 10.1768 10.417 8.47834C10.417 6.77989 8.73496 5.39863 6.66699 5.39863C4.59902 5.39863 2.91699 6.77988 2.91699 8.47834C2.91653 8.95249 2.39541 9.24835 1.97898 9.01088C1.78608 8.90088 1.6672 8.69798 1.66699 8.47834C1.66699 6.10081 3.90996 4.16675 6.66699 4.16675C9.42402 4.16675 11.667 6.10081 11.667 8.47834ZM6.66699 15.8696C5.70474 15.8696 5.10333 16.8962 5.58446 17.7175C6.06558 18.5387 7.2684 18.5387 7.74952 17.7175C7.85923 17.5302 7.91699 17.3178 7.91699 17.1015C7.91699 16.4212 7.35735 15.8696 6.66699 15.8696Z" fill="white"/>
      </g>
      <defs>
        <clipPath id="clip0_532_4566">
          <rect width="20" height="20" fill="white"/>
        </clipPath>
      </defs>
    </svg>
  );
}

function SettingsIcon() {
  return (
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g clipPath="url(#clip0_532_4578)">
        <path d="M9.9985 6.25315C7.11514 6.25315 5.31304 9.37448 6.75472 11.8715C8.1964 14.3686 11.8006 14.3686 13.2423 11.8715C13.571 11.3021 13.7441 10.6562 13.7441 9.99875C13.742 7.93101 12.0663 6.2553 9.9985 6.25315ZM9.9985 12.4958C8.07626 12.4958 6.87486 10.4149 7.83598 8.75022C8.7971 7.08551 11.1999 7.08551 12.161 8.75022C12.3802 9.12982 12.4956 9.56042 12.4956 9.99875C12.4956 11.3778 11.3776 12.4958 9.9985 12.4958ZM16.8654 10.1673C16.8686 10.0549 16.8686 9.94257 16.8654 9.8302L18.0297 8.37566C18.1535 8.22078 18.1964 8.0163 18.1452 7.82474C17.9543 7.1073 17.6688 6.41846 17.2962 5.77637C17.1972 5.60599 17.0237 5.49231 16.828 5.4697L14.977 5.26369C14.9 5.18253 14.822 5.1045 14.7429 5.02959L14.5244 3.17396C14.5016 2.97809 14.3877 2.80451 14.217 2.70575C13.5746 2.33381 12.8859 2.04859 12.1686 1.85754C11.9769 1.80657 11.7724 1.84973 11.6177 1.97381L10.1671 3.13182H9.82996L8.37541 1.9699C8.22054 1.8461 8.01606 1.80323 7.82449 1.85441C7.10718 2.04562 6.41838 2.33111 5.77612 2.70342C5.60574 2.80235 5.49206 2.9759 5.46945 3.17161L5.26345 5.02569C5.18229 5.1032 5.10426 5.18123 5.02934 5.25978L3.17371 5.47282C2.97785 5.4956 2.80427 5.60959 2.70551 5.78027C2.33356 6.42261 2.04834 7.11139 1.85729 7.82864C1.80633 8.02032 1.84949 8.22482 1.97356 8.37956L3.13158 9.8302V10.1673L1.96966 11.6218C1.84585 11.7767 1.80299 11.9812 1.85417 12.1728C2.04503 12.8902 2.33054 13.579 2.70317 14.2211C2.8021 14.3915 2.97566 14.5052 3.17137 14.5278L5.02232 14.7338C5.09983 14.815 5.17787 14.893 5.25642 14.9679L5.47257 16.8235C5.49536 17.0194 5.60935 17.193 5.78003 17.2917C6.42236 17.6637 7.11115 17.9489 7.8284 18.14C8.02008 18.1909 8.22457 18.1478 8.37931 18.0237L9.82996 16.8657C9.94232 16.8688 10.0547 16.8688 10.1671 16.8657L11.6216 18.0299C11.7765 18.1537 11.981 18.1966 12.1725 18.1454C12.8899 17.9546 13.5788 17.6691 14.2209 17.2964C14.3913 17.1975 14.5049 17.0239 14.5276 16.8282L14.7336 14.9773C14.8147 14.9003 14.8928 14.8222 14.9677 14.7432L16.8233 14.5247C17.0192 14.5019 17.1927 14.3879 17.2915 14.2172C17.6634 13.5749 17.9487 12.8861 18.1397 12.1689C18.1907 11.9772 18.1475 11.7727 18.0235 11.6179L16.8654 10.1673ZM15.6091 9.66008C15.6224 9.88567 15.6224 10.1118 15.6091 10.3374C15.5998 10.4919 15.6482 10.6442 15.7449 10.765L16.8522 12.1486C16.7251 12.5524 16.5624 12.9441 16.366 13.3191L14.6025 13.5188C14.4489 13.5359 14.3071 13.6093 14.2045 13.7248C14.0543 13.8938 13.8943 14.0538 13.7254 14.204C13.6098 14.3066 13.5364 14.4484 13.5194 14.6019L13.3235 16.3639C12.9485 16.5604 12.5568 16.7231 12.153 16.8501L10.7687 15.7428C10.6579 15.6543 10.5203 15.6061 10.3785 15.6062H10.3411C10.1155 15.6195 9.88932 15.6195 9.66375 15.6062C9.5093 15.5969 9.35691 15.6453 9.23612 15.742L7.84869 16.8501C7.44489 16.723 7.05319 16.5603 6.67819 16.3639L6.47843 14.6027C6.46137 14.4491 6.38797 14.3073 6.27242 14.2047C6.10348 14.0545 5.9435 13.8946 5.79329 13.7256C5.6907 13.6101 5.5489 13.5367 5.39532 13.5196L3.63333 13.323C3.43684 12.948 3.27414 12.5563 3.14718 12.1525L4.25447 10.7682C4.35116 10.6474 4.39955 10.495 4.39025 10.3405C4.37699 10.115 4.37699 9.88879 4.39025 9.66321C4.39955 9.50877 4.35116 9.35637 4.25447 9.23558L3.14718 7.84893C3.27424 7.44513 3.43693 7.05343 3.63333 6.67844L5.39454 6.47867C5.54812 6.46162 5.68992 6.38821 5.79251 6.27266C5.94272 6.10372 6.1027 5.94374 6.27164 5.79353C6.38765 5.69088 6.46136 5.54875 6.47843 5.39478L6.67429 3.63357C7.04924 3.43708 7.44095 3.27439 7.84479 3.14743L9.2291 4.25472C9.34988 4.3514 9.50228 4.39979 9.65672 4.39049C9.8823 4.37723 10.1085 4.37723 10.3341 4.39049C10.4885 4.39979 10.6409 4.3514 10.7617 4.25472L12.1483 3.14743C12.5521 3.27448 12.9438 3.43717 13.3188 3.63357L13.5186 5.39478C13.5356 5.54836 13.609 5.69017 13.7246 5.79275C13.8935 5.94296 14.0535 6.10294 14.2037 6.27188C14.3063 6.38743 14.4481 6.46084 14.6017 6.47789L16.3637 6.67375C16.5602 7.0487 16.7229 7.44041 16.8498 7.84425L15.7425 9.22856C15.6449 9.35037 15.5965 9.50433 15.6068 9.66008H15.6091Z" fill="white"/>
      </g>
      <defs>
        <clipPath id="clip0_532_4578">
          <rect width="20" height="20" fill="white"/>
        </clipPath>
      </defs>
    </svg>
  );
}

function NotificationIcon() {
  return (
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g clipPath="url(#clip0_532_4581)">
        <path fillRule="evenodd" clipRule="evenodd" d="M11.3996 3.11645C14.0968 3.59386 15.5986 5.52392 15.5986 8.6001C15.5986 10.2428 16.0119 11.8964 16.8504 13.574C17.3157 14.5049 16.639 15.6001 15.5986 15.6001H12.9267L12.9264 15.6225C12.9018 17.1573 11.6582 18.4001 10.1273 18.4001C8.59459 18.4001 7.35394 17.1583 7.32819 15.6236L7.32779 15.6001H4.40144C3.36098 15.6001 2.68426 14.5049 3.14957 13.574C3.98814 11.8964 4.40144 10.2428 4.40144 8.6001C4.40144 5.52392 5.90323 3.59386 8.60036 3.11645V3.0001C8.60036 2.2269 9.227 1.6001 10 1.6001C10.773 1.6001 11.3996 2.2269 11.3996 3.0001V3.11645ZM11.5268 15.6005H8.72752C8.74054 16.3763 9.36336 17.0005 10.1272 17.0005C10.8885 17.0005 11.5144 16.3763 11.5268 15.6005ZM4.40114 14.2003H12.8215H15.5983C14.6652 12.3336 14.1986 10.4669 14.1986 8.60028C14.1986 5.80028 12.799 4.40028 9.9997 4.40028C7.20042 4.40028 5.80078 5.80028 5.80078 8.60028C5.80078 10.4669 5.33423 12.3336 4.40114 14.2003Z" fill="white"/>
      </g>
      <defs>
        <clipPath id="clip0_532_4581">
          <rect width="20" height="20" fill="white"/>
        </clipPath>
      </defs>
    </svg>
  );
}
export function TopBar() {
  const [isFileMenuOpen, setIsFileMenuOpen] = useState(false);
  
  return (
    <div className="topbar-container" data-name="TopBar" data-node-id="499:13969">
        <div className="logo-container" data-name="Logo Container" data-node-id="499:13970">
          <div className="logo" data-name="Logo" data-node-id="499:13971">
            <div className="logo-svg" data-name="BRO SymbolSVG" data-node-id="499:13972">
              <div className="logo-svg-window" data-name="Window" data-node-id="I499:13972;623:2907">
                <div className="logo-svg-window" data-name="Installer-/-#" data-node-id="I499:13972;623:2908">
                  <div className="logo-svg-window" data-name="BRO-Color" data-node-id="I499:13972;623:2909">
                    <img alt="" src={ASSETS.imgBroColor} />
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div className="menu-button-wrapper" data-name="Menu button" data-node-id="499:13973">
            <div 
              className="menu-button-clickable" 
              data-name="Menu button" 
              data-node-id="499:13974"
              onClick={() => setIsFileMenuOpen(!isFileMenuOpen)}
            >
              <p className="menu-button-text" dir="auto" data-node-id="499:13975">
                File
              </p>
            </div>
            {isFileMenuOpen && (
              <div className="dropdown-options" data-name="Dropdown options" data-node-id="499:13976">
                <div className="dropdown-row" data-name="Dropdown Row" data-node-id="499:13977">
                  <p className="dropdown-text" dir="auto" data-node-id="I499:13977;44:3676">
                    Open Session
                  </p>
                </div>
                <div className="dropdown-row-disabled" data-name="Dropdown Row" data-node-id="499:13978">
                  <p className="dropdown-text-disabled" dir="auto" data-node-id="499:13979">
                    Import Session
                  </p>
                </div>
                <div className="dropdown-row" data-name="Dropdown Row" data-node-id="499:13980">
                  <p className="dropdown-text" dir="auto" data-node-id="I499:13980;794:467" style={{ color: '#8a8a8a' }}>
                    Save Session
                  </p>
                </div>
                <div className="dropdown-row" data-name="Dropdown Row" data-node-id="499:13981">
                  <p className="dropdown-text" dir="auto" data-node-id="I499:13981;794:467" style={{ color: '#8a8a8a' }}>
                    Save Session As...
                  </p>
                </div>
                <div className="dropdown-row" data-name="Dropdown Row" data-node-id="499:13982">
                  <p className="dropdown-text" dir="auto" data-node-id="I499:13982;44:3676">
                    Import Geo Shapes
                  </p>
                </div>
              </div>
            )}
          </div>
          <MenuButton text="About" />
        </div>
        <div className="topbar-right-container" data-name="Top Bar Right Container" data-node-id="499:13984">
          <div className="icon-menu-button" data-name="Menu button" data-node-id="499:13985">
            <HelpIcon />
          </div>
          <div className="icon-menu-button" data-name="Menu button" data-node-id="499:13986">
            <SettingsIcon />
          </div>
          <div className="icon-menu-button" data-name="Menu button" data-node-id="499:13987">
            <NotificationIcon />
          </div>
        </div>
        <div className="topbar-center-container" data-name="Top Bar Center Container" data-node-id="499:13988">
          <div className="session-info-container" data-name="Session Info Container" data-node-id="499:13989">
            <div className="session-status-container" data-name="Session Status Container" data-node-id="499:13990">
              <StatusIcon state="Edit" />
              <StatusIcon />
              <div className="status-icon-container" data-name="Status icon" data-node-id="499:13994">
                <ShieldIcon />
              </div>
            </div>
            <p className="session-name" data-node-id="499:13995">
              Session Name
            </p>
            <Status />
          </div>
          <MoreButton />
          <div className="icon-menu-button" style={{ background: '#282828' }} data-name="Menu button" data-node-id="499:13998">
            <SaveIcon />
          </div>
        </div>
      </div>
  );
}
